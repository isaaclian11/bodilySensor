{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Justin Worley\\\\492repo\\\\WebServer\\\\src\\\\components\\\\Home.jsx\";\nimport React, { Component } from 'react';\nimport { Container, Button, Jumbotron } from 'react-bootstrap';\nimport './Home.css';\nimport firebaseApp from 'firebase/app';\nimport 'firebase/auth';\nimport * as AWS from 'aws-sdk';\nimport PostData from './post.json';\nexport default class Home extends Component {\n  constructor() {\n    super();\n    this.state = {\n      Email: 'Need To Change'\n    };\n    this.getData = this.getData.bind(this);\n    this.getData();\n  }\n\n  async getData() {\n    AWS.config.update({\n      region: 'us-east-2',\n      endpoint: 'dynamodb.us-east-2.amazonaws.com',\n      accessKeyId: 'AKIAYPNA3BUHUHWK52FL',\n      secretAccessKey: '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'\n    }); //this.dynamodb = new AWS.DynamoDB();\n\n    this.docClient = new AWS.DynamoDB.DocumentClient();\n    var params = {\n      TableName: 'users',\n      Key: {\n        \"user_id\": 'EbGp7qwQWlfaRz2PD0X0iSL0ivl2'\n      }\n    };\n    var documentClient = new AWS.DynamoDB.DocumentClient();\n    var dataPulled;\n    documentClient.get(params, function (err, data) {\n      if (err) {\n        dataPulled = \"YOU F'ed Up\";\n      } else {\n        console.log(data.Item.email + \" in Function\");\n        this.setState({\n          Email: data.Item.email\n        });\n        dataPulled = \"IT WORKED!\";\n      }\n    });\n  }\n\n  updateState(dataPassed) {\n    (async () => {\n      const data = await this.pull_data();\n      console.log(data);\n      return JSON.stringify(data);\n    })();\n  }\n\n  async pull_data() {\n    AWS.config.update({\n      region: 'us-east-2',\n      endpoint: 'dynamodb.us-east-2.amazonaws.com',\n      accessKeyId: 'AKIAYPNA3BUHUHWK52FL',\n      secretAccessKey: '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'\n    }); //this.dynamodb = new AWS.DynamoDB();\n\n    this.docClient = new AWS.DynamoDB.DocumentClient();\n    var params = {\n      TableName: 'users',\n      Key: {\n        \"user_id\": 'EbGp7qwQWlfaRz2PD0X0iSL0ivl2'\n      }\n    };\n    var documentClient = new AWS.DynamoDB.DocumentClient();\n    var dataPulled;\n    var getting = documentClient.get(params, function (err, data) {\n      if (err) {\n        dataPulled = \"YOU F'ed Up\";\n      } else {\n        console.log(data.Item.email + \" in Function\"); //this.updateState(data);\n\n        dataPulled = \"IT WORKED!\";\n      }\n    }).promise;\n    return dataPulled;\n  }\n\n  render() {\n    //firebaseApp.auth().setPersistence(firebaseApp.auth.Auth.Persistence.SESSION)\n    const user = firebaseApp.auth().currentUser;\n    const dataReturned = this.state.Email; // console.log(dataReturned);\n    // this.pull_data();\n    // const dataReturned2 = this.state.Email;\n    // console.log(dataReturned2);\n\n    console.log(this.updateState());\n\n    if (user) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 17\n        }\n      }, \"I just need this to work \", dataReturned, \" sigh..\");\n    } else {\n      return /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Jumbotron, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 25\n        }\n      }, \"You are not meant to be here!\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }\n      }, \"Here you will be monitored.\")), /*#__PURE__*/React.createElement(Button, {\n        onClick: () => this.props.history.push('/'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }\n      }, \"Login\"));\n    }\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Justin Worley/492repo/WebServer/src/components/Home.jsx"],"names":["React","Component","Container","Button","Jumbotron","firebaseApp","AWS","PostData","Home","constructor","state","Email","getData","bind","config","update","region","endpoint","accessKeyId","secretAccessKey","docClient","DynamoDB","DocumentClient","params","TableName","Key","documentClient","dataPulled","get","err","data","console","log","Item","email","setState","updateState","dataPassed","pull_data","JSON","stringify","getting","promise","render","user","auth","currentUser","dataReturned","props","history","push"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Container, Button, Jumbotron } from 'react-bootstrap';\r\nimport './Home.css';\r\nimport firebaseApp from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport * as AWS from 'aws-sdk';\r\nimport PostData from './post.json'\r\n\r\n\r\n\r\nexport default class Home extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = { Email: 'Need To Change' };\r\n        this.getData = this.getData.bind(this)\r\n        this.getData()\r\n      }\r\n\r\n      async getData() {\r\n            AWS.config.update({\r\n                region: 'us-east-2',\r\n                endpoint: 'dynamodb.us-east-2.amazonaws.com',\r\n                accessKeyId: 'AKIAYPNA3BUHUHWK52FL',\r\n                secretAccessKey: '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'\r\n            });\r\n      \r\n            //this.dynamodb = new AWS.DynamoDB();\r\n            this.docClient = new AWS.DynamoDB.DocumentClient();\r\n      \r\n            var params = {\r\n                TableName: 'users',\r\n                Key:{\r\n                    \"user_id\": 'EbGp7qwQWlfaRz2PD0X0iSL0ivl2'\r\n                }\r\n            };\r\n              \r\n            var documentClient = new AWS.DynamoDB.DocumentClient();\r\n            var dataPulled;\r\n            documentClient.get(params, function(err, data) {\r\n                if (err){ \r\n                    \r\n                    dataPulled = \"YOU F'ed Up\";\r\n                }\r\n                else{\r\n                    console.log(data.Item.email+\" in Function\");\r\n                    this.setState({ Email: data.Item.email });\r\n                    dataPulled = \"IT WORKED!\";\r\n                }\r\n              });\r\n      }\r\n\r\n\r\n\r\n      updateState(dataPassed) {\r\n        (async () => {\r\n           const data = await this.pull_data();\r\n           console.log(data);\r\n           return JSON.stringify(data);\r\n        })();\r\n    }\r\n      \r\n      async pull_data(){\r\n        AWS.config.update({\r\n            region: 'us-east-2',\r\n            endpoint: 'dynamodb.us-east-2.amazonaws.com',\r\n            accessKeyId: 'AKIAYPNA3BUHUHWK52FL',\r\n            secretAccessKey: '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'\r\n        });\r\n  \r\n        //this.dynamodb = new AWS.DynamoDB();\r\n        this.docClient = new AWS.DynamoDB.DocumentClient();\r\n  \r\n        var params = {\r\n            TableName: 'users',\r\n            Key:{\r\n                \"user_id\": 'EbGp7qwQWlfaRz2PD0X0iSL0ivl2'\r\n            }\r\n        };\r\n          \r\n        var documentClient = new AWS.DynamoDB.DocumentClient();\r\n        var dataPulled;\r\n        var getting = documentClient.get(params, function(err, data) {\r\n            if (err){ \r\n                dataPulled = \"YOU F'ed Up\";\r\n            }\r\n            else{\r\n                console.log(data.Item.email+\" in Function\");\r\n                //this.updateState(data);\r\n                dataPulled = \"IT WORKED!\";\r\n            }\r\n          }).promise;\r\n          return dataPulled;\r\n      }\r\n\r\n    render() {\r\n\r\n\r\n        //firebaseApp.auth().setPersistence(firebaseApp.auth.Auth.Persistence.SESSION)\r\n        const user = firebaseApp.auth().currentUser;\r\n        const dataReturned = this.state.Email;\r\n        // console.log(dataReturned);\r\n        // this.pull_data();\r\n        // const dataReturned2 = this.state.Email;\r\n        // console.log(dataReturned2);\r\n        console.log(this.updateState());\r\n\r\n       \r\n        if (user) {\r\n           \r\n              return (\r\n                <div>\r\n                 I just need this to work {dataReturned} sigh..\r\n                  </div>);\r\n        }\r\n        else {\r\n            return (\r\n                <Container >\r\n                    <Jumbotron>\r\n                        <h2>You are not meant to be here!</h2>\r\n                        <p>Here you will be monitored.</p>\r\n                    </Jumbotron>\r\n                    <Button onClick={() => this.props.history.push('/')}>Login</Button>\r\n                </Container >\r\n            )\r\n        }\r\n\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}